<!DOCTYPE html>
<html lang="en">
<head>
  <title>Club Membership</title>

  <style>
      
      .selected {
        text-decoration: line-through ;
        font-style: italic;
        color: gray;
      }

      input {
          width: 100%;
          padding: 5px;
          margin: 5px 5px 5px 0px;
          box-sizing: border-box;

      }

  </style>

</head>
<body>

    <h1>Student Club Roster</h1>

    <h2>Add Students</h2>

    <label for="student-name">Student Name</label><input id="student-name" name="student-name">
    <br>
    <label for="student-id">Student ID</label><input id="student-id" name="student-id">
    <br>
    <label for="student-gpa">Student GPA</label><input id="student-gpa" name="student-gpa" type="number">
    <br>
    <button id="add-student">Add Student</button>    

    <h2>Student List</h2>

    <p>There are 
        <span id="student-count">
          <!-- use JavaScript to count the number of students, and show here -->
        </span> 
    student(s) in the club.</p>
    

    <ul id="student-list">
        <!-- use JavaScript to create li elements  -->
    </ul>

    <button id="remove-selected-students">Remove selected students</button>

<script>

// Using querySelector to define JS variables that use the HTML ID attributes to get the info from the top half of this code

let studentCount = document.querySelector('#student-count')
let newNameInput = document.querySelector('#student-name')
let addButton = document.querySelector('#add-student')
let newIdInput = document.querySelector('#student-id')
let newGPAInput = document.querySelector('#student-gpa')
let studentList = document.querySelector('#student-list')
let clearButton = document.querySelector('#remove-selected-students')

// Creating a counter variable, setting default value to 0, and using .innerHTML and console.log to display the number on HTML

count = 0

studentCount.innerHTML = count

console.log(count)

// Event listener that triggers when user submits input, if all fields are filled out correctly, user input becomes new value
// conditional statement for validation

addButton.addEventListener('click', function(){
let newName = newNameInput.value
if (newName.length == 0) {
    alert('Error - Enter a name')
    return

}

// Same idea as before, just applies to the Student ID  input

let newID = newIdInput.value
if (newID.length == 0){
    alert('Error - Enter ID')
    return
}

// Same idea as before, just applies to the GPA  input, more conditions using else if for this field

let newGPA = newGPAInput.value
if (newGPA.length == 0) {
    alert('Error - Enter valid GPA')
    return

}

else if (newGPA >= 5) {
    alert('Error - Enter a number between 1-4')
    return
}
else if (newGPA <= 0) {
    alert('Error - Enter a number between 1-4')
    return
}

// Creating new LI element and setting the innerHTML to equal a string that includes all of the user input using template string

let newListItem = document.createElement('li')
newListItem.innerHTML = `Name: ${newName}, ID: ${newID}, GPA: ${newGPA}`

// EventListener that will trigger a toggle  between the class attribute 'selected' , if element on list is clicked this will be
// used to remove items from the list 

newListItem.addEventListener('click', function(){
newListItem.classList.toggle("selected");

})

// Using appendChild to add LI elements to the list, once items are added successfully, all user input fields will clear and
// counter will increase by 1

studentList.appendChild(newListItem)
newNameInput.value = ''
newIdInput.value = ''
newGPAInput.value = ''
count++
studentCount.innerHTML = count

console.log(count)

// Eventlistener to trigger the clear button, clear button will only remove LI elements that have the 'selected' class attribute
// for every LI element removed, counter will subtract 1

clearButton.addEventListener('click', function(){
let elementsToDelete = document.querySelectorAll(".selected")
elementsToDelete.forEach(function(element){
element.remove()
count--
studentCount.innerHTML = count

console.log(count)
    

})
})


})

</script>

</body>
</html>